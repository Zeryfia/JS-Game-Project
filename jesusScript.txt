let DATA = {
    computerOption: '',
    playerOption: '',
    playerPoints: 0,
    computerPoints: 0
}

window.onload = () => {
    console.log('Rock, Paper, Scissors Game\n Type ROCK, PAPER OR SCISSORS\n In case you type a incorrect option you will lose the round');
    //playRound(computerPlay, playerSelection);
    game(playRound)
}

const computerPlay = () => {
    let random = Math.floor(Math.random() * 3);
    
    if (random == 0) {
        DATA.computerOption = 'ROCK'
    } else if (random == 1) {
        DATA.computerOption = 'PAPER'
    } else {
        DATA.computerOption = 'SCISSORS'
    }

    return DATA.computerOption;
}
const playerSelection = () => {
    let selection = prompt('Say Rock, Paper or Scissors');
    if (selection == null) {
        DATA.playerOption = 'GF';
        // GF = Game finished
    } else if (selection.toUpperCase() == 'ROCK' || selection.toUpperCase() == 'PAPER' || selection.toUpperCase() == 'SCISSORS') {
        DATA.playerOption = selection.toUpperCase();
    } else {
        DATA.playerOption = 'BR';
        // BR = Bad result
    }
    return DATA.playerOption;
}

const playRound = (computerPlay, playerSelection) => {
    computerPlay();
    playerSelection();
    comparision(DATA)
}

const comparision = (DATA) => {
    
    if (DATA.playerOption == 'GF' || DATA.playerOption == 'BR') {
        console.log('You type an incorrect option')
        DATA.computerPoints++;
        console.log('Player: '+DATA.playerPoints+ '\n' + 'Computer: '+DATA.computerPoints)
    } else if (DATA.playerOption == 'ROCK' && DATA.computerOption == 'ROCK') {
        console.log('You say ' + DATA.playerOption + '\n' + 'Computer says ' + DATA.computerOption + '\n' + 'Tie! Nobody wins')
        console.log('Player: '+DATA.playerPoints+ '\n' + 'Computer: '+DATA.computerPoints)
    } else if (DATA.playerOption == 'ROCK' && DATA.computerOption == 'SCISSORS') {
        console.log('You say ' + DATA.playerOption + '\n' + 'Computer says ' + DATA.computerOption + '\n' + 'You win!! ROCK beats SCISSORS')
        DATA.playerPoints++;
        console.log('Player: '+DATA.playerPoints+ '\n' + 'Computer: '+DATA.computerPoints)
    } else if (DATA.playerOption == 'ROCK' && DATA.computerOption == 'PAPER') {
        console.log('You say ' + DATA.playerOption + '\n' + 'Computer says ' + DATA.computerOption + '\n' + 'You lose! PAPER beats ROCK')
        DATA.computerPoints++;
        console.log('Player: '+DATA.playerPoints+ '\n' + 'Computer: '+DATA.computerPoints)
    }


}

const results = (DATA) => {
    console.log('Results:' + '\n' + 'Player: '+DATA.playerPoints + '\n' + 'Computer: '+DATA.computerPoints)
    if (DATA.playerPoints > DATA.computerPoints) {
        console.log('You win!! Congratulations!!')
    } else if (DATA.playerPoints < DATA.computerPoints) {
        console.log('You lose! Good luck next try!')
    } else {
        console.log('Tie! Nobody wins!!')
    }
}

const game = (playRound) => {
    for (let i = 0; i < 5; i++) {
        console.log('Type an option')
        playRound(computerPlay, playerSelection);
    }
    results(DATA)
}
